<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Getting Started · ForestMensuration.jl</title><meta name="title" content="Getting Started · ForestMensuration.jl"/><meta property="og:title" content="Getting Started · ForestMensuration.jl"/><meta property="twitter:title" content="Getting Started · ForestMensuration.jl"/><meta name="description" content="Documentation for ForestMensuration.jl."/><meta property="og:description" content="Documentation for ForestMensuration.jl."/><meta property="twitter:description" content="Documentation for ForestMensuration.jl."/><meta property="og:url" content="https://marcosdanieldasilva.github.io/ForestMensuration.jl/tutorial/"/><meta property="twitter:url" content="https://marcosdanieldasilva.github.io/ForestMensuration.jl/tutorial/"/><link rel="canonical" href="https://marcosdanieldasilva.github.io/ForestMensuration.jl/tutorial/"/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script><link href="../assets/favicon.ico" rel="icon" type="image/x-icon"/><link href="../assets/style.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../forestmensuration/"><img src="../assets/logo.png" alt="ForestMensuration.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../forestmensuration/">ForestMensuration.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../forestmensuration/">ForestMensuration Package</a></li><li class="is-active"><a class="tocitem" href>Getting Started</a><ul class="internal"><li><a class="tocitem" href="#Computing-the-Cubage"><span>Computing the Cubage</span></a></li><li><a class="tocitem" href="#Fitting-Linear-Regressions"><span>Fitting Linear Regressions</span></a></li><li><a class="tocitem" href="#Site-Classification"><span>Site Classification</span></a></li><li><a class="tocitem" href="#Frequency-and-Statistical-Functions"><span>Frequency and Statistical Functions</span></a></li><li><a class="tocitem" href="#Calculating-Dendrometric-Averages"><span>Calculating Dendrometric Averages</span></a></li></ul></li><li><a class="tocitem" href="../reference/">API Reference</a></li><li><a class="tocitem" href="../bibliography/">Bibliography</a></li><li><a class="tocitem" href="../">Index</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Getting Started</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Getting Started</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/marcosdanieldasilva/ForestMensuration.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/marcosdanieldasilva/ForestMensuration.jl/blob/main/docs/src/tutorial.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Getting-Started"><a class="docs-heading-anchor" href="#Getting-Started">Getting Started</a><a id="Getting-Started-1"></a><a class="docs-heading-anchor-permalink" href="#Getting-Started" title="Permalink"></a></h1><h2 id="Computing-the-Cubage"><a class="docs-heading-anchor" href="#Computing-the-Cubage">Computing the Cubage</a><a id="Computing-the-Cubage-1"></a><a class="docs-heading-anchor-permalink" href="#Computing-the-Cubage" title="Permalink"></a></h2><p>The <a href="../reference/#ForestMensuration.cubage"><code>cubage</code></a> function calculates the volume of a tree (cubage) using different cubing methods. It can handle both single trees and multiple trees in a dataset. The available cubing methods are <a href="../reference/#ForestMensuration.Smalian"><code>Smalian</code></a>, <a href="../reference/#ForestMensuration.Newton"><code>Newton</code></a> and <a href="../reference/#ForestMensuration.Huber"><code>Huber</code></a>.</p><h3 id="Cubing-a-Simple-Tree"><a class="docs-heading-anchor" href="#Cubing-a-Simple-Tree">Cubing a Simple Tree</a><a id="Cubing-a-Simple-Tree-1"></a><a class="docs-heading-anchor-permalink" href="#Cubing-a-Simple-Tree" title="Permalink"></a></h3><p>When cubing a single tree, you need to provide vectors of diameters (d) and heights (h) measured at different points along the tree stem. Diameters should be in centimeters, and heights should be in meters. The diameter at breast height (DBH) and total tree height (Ht) are essential inputs.</p><pre><code class="language-julia hljs">using ForestMensuration

# Diameters at different heights (cm)
d = [9.0, 7.0, 5.8, 5.1, 3.8, 1.9, 0.0]

# Corresponding heights (m)
h =  [0.3, 1.3, 3.3, 5.3, 7.3, 9.3, 10.8]

# Calculate cubage using the Smalian method
cubage(Smalian, h, d)</code></pre><div><div style = "float: left;"><span>1×11 DataFrame</span></div><div style = "clear: both;"></div></div><div class = "data-frame" style = "overflow-x: scroll;"><table class = "data-frame" style = "margin-bottom: 6px;"><thead><tr class = "header"><th class = "rowNumber" style = "font-weight: bold; text-align: right;">Row</th><th style = "text-align: left;">vt</th><th style = "text-align: left;">v0</th><th style = "text-align: left;">vc</th><th style = "text-align: left;">vr</th><th style = "text-align: left;">vn</th><th style = "text-align: left;">dbh</th><th style = "text-align: left;">ht</th><th style = "text-align: left;">hc</th><th style = "text-align: left;">aff</th><th style = "text-align: left;">nff</th><th style = "text-align: left;">qf</th></tr><tr class = "subheader headerLastRow"><th class = "rowNumber" style = "font-weight: bold; text-align: right;"></th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th></tr></thead><tbody><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">1</td><td style = "text-align: right;">0.0229254</td><td style = "text-align: right;">0.00190852</td><td style = "text-align: right;">0.0208751</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">0.000141764</td><td style = "text-align: right;">7.0</td><td style = "text-align: right;">10.8</td><td style = "text-align: right;">9.3</td><td style = "text-align: right;">0.551578</td><td style = "text-align: right;">0.488267</td><td style = "text-align: right;">0.719286</td></tr></tbody></table></div><p><br/></p><ul><li>vt: Total volume</li><li>v0: Volume of the stump</li><li>vc: Commercial bole volume</li><li>vr: Residual volume above commercial limit</li><li>vn: Volume of the top (cone)</li><li>dbh: Diameter at breast height</li><li>ht: Total tree height</li><li>hc: Commercial height</li><li>aff: Artificial form factor</li><li>nff: Natural form factor</li><li>qf: Form quotient</li></ul><p><br/></p><h4 id="Including-Bark-Thickness"><a class="docs-heading-anchor" href="#Including-Bark-Thickness">Including Bark Thickness</a><a id="Including-Bark-Thickness-1"></a><a class="docs-heading-anchor-permalink" href="#Including-Bark-Thickness" title="Permalink"></a></h4><p>With the bark thickness value, it is possible to calculate the bark factor and total and commercial volumes without bark. Note: the provided thickness should be the &#39;single thickness&#39; in centimeters. The function will convert it into &#39;double thickness&#39;.</p><pre><code class="language-julia hljs"># Bark thickness at corresponding heights (cm)
bark = [0.9, 0.5, 0.3, 0.2, 0.2, 0.1, 0.0]

# Define a commercial diameter limit
diameter_limit = 4.0

# Calculate cubage using the Newton method, including bark thickness and diameter limit
cubage(Newton, h, d, bark, diameter_limit)</code></pre><div><div style = "float: left;"><span>1×17 DataFrame</span></div><div style = "clear: both;"></div></div><div class = "data-frame" style = "overflow-x: scroll;"><table class = "data-frame" style = "margin-bottom: 6px;"><thead><tr class = "header"><th class = "rowNumber" style = "font-weight: bold; text-align: right;">Row</th><th style = "text-align: left;">vt</th><th style = "text-align: left;">v0</th><th style = "text-align: left;">vc</th><th style = "text-align: left;">vr</th><th style = "text-align: left;">vn</th><th style = "text-align: left;">dbh</th><th style = "text-align: left;">ht</th><th style = "text-align: left;">hc</th><th style = "text-align: left;">aff</th><th style = "text-align: left;">nff</th><th style = "text-align: left;">qf</th><th style = "text-align: left;">k</th><th style = "text-align: left;">vtwb</th><th style = "text-align: left;">v0wb</th><th style = "text-align: left;">vcwb</th><th style = "text-align: left;">vrwb</th><th style = "text-align: left;">vnwb</th></tr><tr class = "subheader headerLastRow"><th class = "rowNumber" style = "font-weight: bold; text-align: right;"></th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th></tr></thead><tbody><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">1</td><td style = "text-align: right;">0.0130233</td><td style = "text-align: right;">0.00190852</td><td style = "text-align: right;">0.0109731</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">0.000141764</td><td style = "text-align: right;">7.0</td><td style = "text-align: right;">10.8</td><td style = "text-align: right;">6.99231</td><td style = "text-align: right;">0.313338</td><td style = "text-align: right;">0.277372</td><td style = "text-align: right;">0.719286</td><td style = "text-align: right;">0.932515</td><td style = "text-align: right;">0.0113249</td><td style = "text-align: right;">0.00165962</td><td style = "text-align: right;">0.00954201</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">0.000123276</td></tr></tbody></table></div><p><br/> Additional columns include:</p><ul><li>k: Bark factor</li><li>: vtwb, v0wb, vcwb, vrwb, vnwb: Corresponding volumes without bark</li></ul><h3 id="Cubing-Multiple-Trees"><a class="docs-heading-anchor" href="#Cubing-Multiple-Trees">Cubing Multiple Trees</a><a id="Cubing-Multiple-Trees-1"></a><a class="docs-heading-anchor-permalink" href="#Cubing-Multiple-Trees" title="Permalink"></a></h3><p>To calculate cubage for multiple trees, organize your data in a DataFrame with columns for tree identifiers, heights, diameters, and optionally bark thickness.</p><pre><code class="language-julia hljs">using ForestMensuration
using DataFrames

# Sample data for multiple trees
data = DataFrame(
    tree = [148, 148, 148, 148, 148, 148, 148, 222, 222, 222, 222, 222, 222, 222, 222, 222, 222, 222],
    h = [0.3, 1.3, 3.3, 5.3, 7.3, 9.3, 10.8, 0.3, 1.3, 3.3, 5.3, 7.3, 9.3, 11.3, 13.3, 15.3, 17.3, 19.5],
    d = [9.0, 7.0, 5.8, 5.1, 3.8, 1.9, 0.0, 16.0, 12.0, 11.6, 10.1, 9.4, 8.2, 7.0, 6.0, 4.0, 2.0, 0.0],
    bark = [0.9, 0.5, 0.3, 0.2, 0.2, 0.1, 0.0, 1.2, 0.5, 0.3, 0.3, 0.2, 0.2, 0.3, 0.0, 0.0, 0.0, 0.0]
)

# Define a commercial diameter limit
diameter_limit = 2.5

# Calculate cubage for each tree using the Huber method
cubage(Huber, :tree, :h, :d, data, diameter_limit)</code></pre><div><div style = "float: left;"><span>2×12 DataFrame</span></div><div style = "clear: both;"></div></div><div class = "data-frame" style = "overflow-x: scroll;"><table class = "data-frame" style = "margin-bottom: 6px;"><thead><tr class = "header"><th class = "rowNumber" style = "font-weight: bold; text-align: right;">Row</th><th style = "text-align: left;">tree</th><th style = "text-align: left;">vt</th><th style = "text-align: left;">v0</th><th style = "text-align: left;">vc</th><th style = "text-align: left;">vr</th><th style = "text-align: left;">vn</th><th style = "text-align: left;">dbh</th><th style = "text-align: left;">ht</th><th style = "text-align: left;">hc</th><th style = "text-align: left;">aff</th><th style = "text-align: left;">nff</th><th style = "text-align: left;">qf</th></tr><tr class = "subheader headerLastRow"><th class = "rowNumber" style = "font-weight: bold; text-align: right;"></th><th title = "Int64" style = "text-align: left;">Int64</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th></tr></thead><tbody><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">1</td><td style = "text-align: right;">148</td><td style = "text-align: right;">0.023353</td><td style = "text-align: right;">0.00190852</td><td style = "text-align: right;">0.0206984</td><td style = "text-align: right;">0.000604364</td><td style = "text-align: right;">0.000141764</td><td style = "text-align: right;">7.0</td><td style = "text-align: right;">10.8</td><td style = "text-align: right;">8.66842</td><td style = "text-align: right;">0.561867</td><td style = "text-align: right;">0.497375</td><td style = "text-align: right;">0.719286</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">2</td><td style = "text-align: right;">222</td><td style = "text-align: right;">0.106503</td><td style = "text-align: right;">0.00603186</td><td style = "text-align: right;">0.0993921</td><td style = "text-align: right;">0.00084823</td><td style = "text-align: right;">0.000230383</td><td style = "text-align: right;">12.0</td><td style = "text-align: right;">19.5</td><td style = "text-align: right;">16.8</td><td style = "text-align: right;">0.482918</td><td style = "text-align: right;">0.493554</td><td style = "text-align: right;">0.660833</td></tr></tbody></table></div><p><br/></p><h4 id="Including-Bark-Thickness-for-Multiple-Trees"><a class="docs-heading-anchor" href="#Including-Bark-Thickness-for-Multiple-Trees">Including Bark Thickness for Multiple Trees</a><a id="Including-Bark-Thickness-for-Multiple-Trees-1"></a><a class="docs-heading-anchor-permalink" href="#Including-Bark-Thickness-for-Multiple-Trees" title="Permalink"></a></h4><p>Additionally, bark thickness values can be provided to calculate bark factors and volumes without bark.</p><pre><code class="language-julia hljs"># Calculate cubage including bark thickness
cubage(Huber, :tree, :h, :d, :bark, data, diameter_limit)</code></pre><div><div style = "float: left;"><span>2×18 DataFrame</span></div><div style = "clear: both;"></div></div><div class = "data-frame" style = "overflow-x: scroll;"><table class = "data-frame" style = "margin-bottom: 6px;"><thead><tr class = "header"><th class = "rowNumber" style = "font-weight: bold; text-align: right;">Row</th><th style = "text-align: left;">tree</th><th style = "text-align: left;">vt</th><th style = "text-align: left;">v0</th><th style = "text-align: left;">vc</th><th style = "text-align: left;">vr</th><th style = "text-align: left;">vn</th><th style = "text-align: left;">dbh</th><th style = "text-align: left;">ht</th><th style = "text-align: left;">hc</th><th style = "text-align: left;">aff</th><th style = "text-align: left;">nff</th><th style = "text-align: left;">qf</th><th style = "text-align: left;">k</th><th style = "text-align: left;">vtwb</th><th style = "text-align: left;">v0wb</th><th style = "text-align: left;">vcwb</th><th style = "text-align: left;">vrwb</th><th style = "text-align: left;">vnwb</th></tr><tr class = "subheader headerLastRow"><th class = "rowNumber" style = "font-weight: bold; text-align: right;"></th><th title = "Int64" style = "text-align: left;">Int64</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th></tr></thead><tbody><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">1</td><td style = "text-align: right;">148</td><td style = "text-align: right;">0.023353</td><td style = "text-align: right;">0.00190852</td><td style = "text-align: right;">0.0206984</td><td style = "text-align: right;">0.000604364</td><td style = "text-align: right;">0.000141764</td><td style = "text-align: right;">7.0</td><td style = "text-align: right;">10.8</td><td style = "text-align: right;">8.66842</td><td style = "text-align: right;">0.561867</td><td style = "text-align: right;">0.497375</td><td style = "text-align: right;">0.719286</td><td style = "text-align: right;">0.932515</td><td style = "text-align: right;">0.0203074</td><td style = "text-align: right;">0.00165962</td><td style = "text-align: right;">0.017999</td><td style = "text-align: right;">0.000525546</td><td style = "text-align: right;">0.000123276</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">2</td><td style = "text-align: right;">222</td><td style = "text-align: right;">0.106503</td><td style = "text-align: right;">0.00603186</td><td style = "text-align: right;">0.0993921</td><td style = "text-align: right;">0.00084823</td><td style = "text-align: right;">0.000230383</td><td style = "text-align: right;">12.0</td><td style = "text-align: right;">19.5</td><td style = "text-align: right;">16.8</td><td style = "text-align: right;">0.482918</td><td style = "text-align: right;">0.493554</td><td style = "text-align: right;">0.660833</td><td style = "text-align: right;">0.965238</td><td style = "text-align: right;">0.0992267</td><td style = "text-align: right;">0.00561978</td><td style = "text-align: right;">0.092602</td><td style = "text-align: right;">0.000790282</td><td style = "text-align: right;">0.000214644</td></tr></tbody></table></div><h2 id="Fitting-Linear-Regressions"><a class="docs-heading-anchor" href="#Fitting-Linear-Regressions">Fitting Linear Regressions</a><a id="Fitting-Linear-Regressions-1"></a><a class="docs-heading-anchor-permalink" href="#Fitting-Linear-Regressions" title="Permalink"></a></h2><p>The <a href="../reference/#ForestMensuration.regression-Tuple{Symbol, Symbol, DataFrames.AbstractDataFrame, Vararg{Symbol}}"><code>regression</code></a> function automatically generates and evaluates multiple regression models based on the provided data. It explores various transformations of the dependent and independent variables, creating a comprehensive set of models for analysis.</p><h3 id="Adjusting-a-Hypsometric-Relationship"><a class="docs-heading-anchor" href="#Adjusting-a-Hypsometric-Relationship">Adjusting a Hypsometric Relationship</a><a id="Adjusting-a-Hypsometric-Relationship-1"></a><a class="docs-heading-anchor-permalink" href="#Adjusting-a-Hypsometric-Relationship" title="Permalink"></a></h3><p>In forestry, hypsometric relationships model the relationship between tree height (h) and diameter at breast height (dbh). The regression function generates numerous models to find the best fit.</p><pre><code class="language-julia hljs">using ForestMensuration
using DataFrames

# Sample dataset with tree heights and diameters
data = DataFrame(
    plot = [&quot;A&quot;, &quot;A&quot;, &quot;A&quot;, &quot;A&quot;, &quot;A&quot;, &quot;A&quot;, &quot;A&quot;, &quot;A&quot;, &quot;A&quot;, &quot;A&quot;, &quot;A&quot;, &quot;A&quot;, &quot;A&quot;, &quot;A&quot;, &quot;A&quot;,
            &quot;B&quot;, &quot;B&quot;, &quot;B&quot;, &quot;B&quot;, &quot;B&quot;, &quot;B&quot;, &quot;B&quot;, &quot;B&quot;, &quot;B&quot;, &quot;B&quot;, &quot;B&quot;, &quot;B&quot;, &quot;B&quot;,
            &quot;C&quot;, &quot;C&quot;, &quot;C&quot;, &quot;C&quot;, &quot;C&quot;, &quot;C&quot;, &quot;C&quot;, &quot;C&quot;, &quot;C&quot;, &quot;C&quot;, &quot;C&quot;, &quot;C&quot;,
            &quot;D&quot;, &quot;D&quot;, &quot;D&quot;, &quot;D&quot;, &quot;D&quot;, &quot;D&quot;, &quot;D&quot;, &quot;D&quot;, &quot;D&quot;, &quot;D&quot;, &quot;D&quot;, &quot;D&quot;, &quot;D&quot;, &quot;D&quot;, &quot;D&quot;],
    h = [20.9, 19.6, 13.2, 23.3, 19.2, 16.2, 8.3, 19.7, 11.0, 24.0, 25.8, 28.2, 24.2, 26.2, 28.3,
         14.4, 14.9, 15.6, 8.2, 22.1, 16.7, 22.3, 19.5, 15.9, 16.7, 24.5, 21.7, 23.8,
         20.8, 17.7, 19.3, 16.7, 22.2, 18.6, 6.9, 22.3, 8.7, 22.1, 21.0, 23.5,
         19.5, 19.7, 18.2, 13.9, 12.3, 14.5, 12.3, 18.6, 18.0, 17.4, 24.3, 22.8, 23.2, 23.5, 25.2],
    dbh = [31.5, 30.0, 26.5, 31.0, 29.0, 26.5, 14.5, 28.8, 19.0, 31.5, 32.5, 33.8, 32.5, 33.3, 36.0,
           24.0, 28.0, 23.0, 15.5, 31.0, 27.0, 29.0, 28.0, 26.0, 29.0, 30.0, 29.0, 30.5,
           25.0, 26.8, 27.5, 26.0, 26.0, 25.8, 10.8, 27.0, 16.5, 26.5, 27.0, 26.3,
           26.0, 25.5, 25.0, 23.5, 22.0, 23.0, 23.0, 26.0, 25.5, 27.5, 26.5, 26.5, 27.8, 26.0, 27.0]
)

# Perform regression analysis between height and diameter
models = regression(:h, :dbh, data)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">492-element Vector{LinearModel}:
 h = -47.8323 + 2.716 * dbh - 0.02367 * dbh ^ 2 + 304.5 * dbh ^ -1
 h = -16.632 + 3.346 * log(dbh) ^ 2
 h = -93.5981 - 0.9571 * dbh + 11.0 * log(dbh) ^ 2 + 525.8 * dbh ^ -1
 h = 37.2424 + 0.00727 * dbh ^ 2 - 813.5 * dbh ^ -1 + 5171.0 * dbh ^ -2
 h = 10.3479 + 0.0161 * dbh ^ 2 - 75.26 * dbh ^ -1
 h = 7.227 + 0.01734 * dbh ^ 2 - 445.2 * dbh ^ -2
 h = -5.7502 + 0.9352 * dbh
 h = -3.6306 + 0.01202 * dbh ^ 2 + 1.31 * log(dbh) ^ 2
 h = 57.2762 - 1335.0 * dbh ^ -1 + 8652.0 * dbh ^ -2
 h = -214.663 - 0.4298 * dbh + 66.23 * log(dbh) + 742.5 * dbh ^ -1
 ⋮
 dbh ^ 2 / (h - 1.3) = -437.0429 + 0.06451 * dbh ^ 2 + 341.1 * log(dbh) - 63.81 * log(dbh) ^ 2
 dbh ^ 2 / (h - 1.3) = 2.2285 + 12.37 * log(dbh) - 1029.0 * dbh ^ -2
 dbh ^ 2 / (h - 1.3) = 429.0095 + 0.04163 * dbh ^ 2 - 107.9 * log(dbh) - 1689.0 * dbh ^ -1
 dbh ^ 2 / (h - 1.3) = -63.893 + 1.922 * dbh + 1932.0 * dbh ^ -1 - 13460.0 * dbh ^ -2
 dbh ^ 2 / (h - 1.3) = 172.7103 + 0.03016 * dbh ^ 2 - 44.16 * log(dbh) - 5911.0 * dbh ^ -2
 dbh ^ 2 / (h - 1.3) = -41.3748 + 33.81 * log(dbh) - 2.622 * log(dbh) ^ 2
 dbh ^ 2 / (h - 1.3) = 42.2307 + 0.2939 * dbh - 233.0 * dbh ^ -1
 dbh ^ 2 / (h - 1.3) = 23.6047 + 1.817 * log(dbh) ^ 2 - 1285.0 * dbh ^ -2
 dbh ^ 2 / (h - 1.3) = 35.0239 + 1.292 * log(dbh) ^ 2 - 202.0 * dbh ^ -1</code></pre><p>This generates 240 different models combining various transformations of h and dbh.</p><pre><code class="language-julia hljs">#number of fitted regressions
length(models)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">492</code></pre><h4 id="Regression-Selection-Criteria"><a class="docs-heading-anchor" href="#Regression-Selection-Criteria">Regression Selection Criteria</a><a id="Regression-Selection-Criteria-1"></a><a class="docs-heading-anchor-permalink" href="#Regression-Selection-Criteria" title="Permalink"></a></h4><p>After fitting the models, you can evaluate and rank them based on specific criteria using the <a href="../reference/#ForestMensuration.criteria_table-Tuple{Vector{&lt;:LinearModel}, Vararg{Symbol}}"><code>criteria_table</code></a> function.</p><pre><code class="language-julia hljs"># Evaluate models
best_models = criteria_table(models)</code></pre><div><div style = "float: left;"><span>10×9 DataFrame</span></div><div style = "clear: both;"></div></div><div class = "data-frame" style = "overflow-x: scroll;"><table class = "data-frame" style = "margin-bottom: 6px;"><thead><tr class = "header"><th class = "rowNumber" style = "font-weight: bold; text-align: right;">Row</th><th style = "text-align: left;">model</th><th style = "text-align: left;">rank</th><th style = "text-align: left;">adjr2</th><th style = "text-align: left;">d</th><th style = "text-align: left;">syx</th><th style = "text-align: left;">aic</th><th style = "text-align: left;">bic</th><th style = "text-align: left;">normality</th><th style = "text-align: left;">significance</th></tr><tr class = "subheader headerLastRow"><th class = "rowNumber" style = "font-weight: bold; text-align: right;"></th><th title = "LinearModel" style = "text-align: left;">LinearMo…</th><th title = "Int64" style = "text-align: left;">Int64</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th></tr></thead><tbody><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">1</td><td style = "text-align: left;">log(h) = -1.4894 + 1.348 * log(dbh)</td><td style = "text-align: right;">18</td><td style = "text-align: right;">0.729603</td><td style = "text-align: right;">0.917946</td><td style = "text-align: right;">13.9489</td><td style = "text-align: right;">267.57</td><td style = "text-align: right;">271.585</td><td style = "text-align: right;">1.0</td><td style = "text-align: right;">1.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">2</td><td style = "text-align: left;">h = -96.1659 + 34.02 * log(dbh) + 2613.0 * dbh ^ -2</td><td style = "text-align: right;">21</td><td style = "text-align: right;">0.729649</td><td style = "text-align: right;">0.92076</td><td style = "text-align: right;">13.9477</td><td style = "text-align: right;">269.561</td><td style = "text-align: right;">275.583</td><td style = "text-align: right;">1.0</td><td style = "text-align: right;">1.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">3</td><td style = "text-align: left;">log_minus(h - 1.3) = -2.0472 + 1.495 * log(dbh)</td><td style = "text-align: right;">22</td><td style = "text-align: right;">0.729026</td><td style = "text-align: right;">0.918973</td><td style = "text-align: right;">13.9638</td><td style = "text-align: right;">267.687</td><td style = "text-align: right;">271.702</td><td style = "text-align: right;">1.0</td><td style = "text-align: right;">1.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">4</td><td style = "text-align: left;">h = -159.8033 + 48.06 * log(dbh) + 564.4 * dbh ^ -1</td><td style = "text-align: right;">26</td><td style = "text-align: right;">0.729505</td><td style = "text-align: right;">0.920792</td><td style = "text-align: right;">13.9514</td><td style = "text-align: right;">269.59</td><td style = "text-align: right;">275.612</td><td style = "text-align: right;">1.0</td><td style = "text-align: right;">1.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">5</td><td style = "text-align: left;">h = -5.7502 + 0.9352 * dbh</td><td style = "text-align: right;">27</td><td style = "text-align: right;">0.727517</td><td style = "text-align: right;">0.917983</td><td style = "text-align: right;">14.0026</td><td style = "text-align: right;">267.993</td><td style = "text-align: right;">272.008</td><td style = "text-align: right;">1.0</td><td style = "text-align: right;">1.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">6</td><td style = "text-align: left;">log1p(h) = 0.7588 + 0.2064 * log(dbh) ^ 2</td><td style = "text-align: right;">29</td><td style = "text-align: right;">0.726995</td><td style = "text-align: right;">0.919647</td><td style = "text-align: right;">14.016</td><td style = "text-align: right;">268.098</td><td style = "text-align: right;">272.113</td><td style = "text-align: right;">1.0</td><td style = "text-align: right;">1.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">7</td><td style = "text-align: left;">log1p(h) = 4.9266 - 65.76 * dbh ^ -1 + 375.7 * dbh ^ -2</td><td style = "text-align: right;">35</td><td style = "text-align: right;">0.726429</td><td style = "text-align: right;">0.921681</td><td style = "text-align: right;">14.0305</td><td style = "text-align: right;">270.212</td><td style = "text-align: right;">276.234</td><td style = "text-align: right;">1.0</td><td style = "text-align: right;">1.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">8</td><td style = "text-align: left;">log(h) = 0.5413 + 0.2215 * log(dbh) ^ 2</td><td style = "text-align: right;">36</td><td style = "text-align: right;">0.725095</td><td style = "text-align: right;">0.919865</td><td style = "text-align: right;">14.0647</td><td style = "text-align: right;">268.48</td><td style = "text-align: right;">272.494</td><td style = "text-align: right;">1.0</td><td style = "text-align: right;">1.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">9</td><td style = "text-align: left;">log(h) = 4.9804 - 69.14 * dbh ^ -1 + 389.6 * dbh ^ -2</td><td style = "text-align: right;">38</td><td style = "text-align: right;">0.725409</td><td style = "text-align: right;">0.921744</td><td style = "text-align: right;">14.0567</td><td style = "text-align: right;">270.417</td><td style = "text-align: right;">276.439</td><td style = "text-align: right;">1.0</td><td style = "text-align: right;">1.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">10</td><td style = "text-align: left;">log_minus(h - 1.3) = 5.064 - 74.0 * dbh ^ -1 + 407.0 * dbh ^ -2</td><td style = "text-align: right;">43</td><td style = "text-align: right;">0.72357</td><td style = "text-align: right;">0.921815</td><td style = "text-align: right;">14.1037</td><td style = "text-align: right;">270.784</td><td style = "text-align: right;">276.806</td><td style = "text-align: right;">1.0</td><td style = "text-align: right;">1.0</td></tr></tbody></table></div><pre><code class="language-julia hljs"># Evaluate models based on Adjusted R², Standard Error and chosing the 5 bests
best_5_models = criteria_table(models, :adjr2, :syx, best=5)</code></pre><div><div style = "float: left;"><span>5×4 DataFrame</span></div><div style = "clear: both;"></div></div><div class = "data-frame" style = "overflow-x: scroll;"><table class = "data-frame" style = "margin-bottom: 6px;"><thead><tr class = "header"><th class = "rowNumber" style = "font-weight: bold; text-align: right;">Row</th><th style = "text-align: left;">model</th><th style = "text-align: left;">rank</th><th style = "text-align: left;">adjr2</th><th style = "text-align: left;">syx</th></tr><tr class = "subheader headerLastRow"><th class = "rowNumber" style = "font-weight: bold; text-align: right;"></th><th title = "LinearModel" style = "text-align: left;">LinearMo…</th><th title = "Int64" style = "text-align: left;">Int64</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th></tr></thead><tbody><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">1</td><td style = "text-align: left;">h = -35.3323 + 4.828 * log(dbh) ^ 2 + 1745.0 * dbh ^ -2</td><td style = "text-align: right;">2</td><td style = "text-align: right;">0.729676</td><td style = "text-align: right;">13.947</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">2</td><td style = "text-align: left;">h = -96.1659 + 34.02 * log(dbh) + 2613.0 * dbh ^ -2</td><td style = "text-align: right;">4</td><td style = "text-align: right;">0.729649</td><td style = "text-align: right;">13.9477</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">3</td><td style = "text-align: left;">log(h) = -1.4894 + 1.348 * log(dbh)</td><td style = "text-align: right;">6</td><td style = "text-align: right;">0.729603</td><td style = "text-align: right;">13.9489</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">4</td><td style = "text-align: left;">h = -159.8033 + 48.06 * log(dbh) + 564.4 * dbh ^ -1</td><td style = "text-align: right;">8</td><td style = "text-align: right;">0.729505</td><td style = "text-align: right;">13.9514</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">5</td><td style = "text-align: left;">log1p(h) = -1.1303 + 1.255 * log(dbh)</td><td style = "text-align: right;">10</td><td style = "text-align: right;">0.729334</td><td style = "text-align: right;">13.9559</td></tr></tbody></table></div><p><br/></p><h4 id="Selecting-the-Best-Model"><a class="docs-heading-anchor" href="#Selecting-the-Best-Model">Selecting the Best Model</a><a id="Selecting-the-Best-Model-1"></a><a class="docs-heading-anchor-permalink" href="#Selecting-the-Best-Model" title="Permalink"></a></h4><p>To select the best model based on the combined ranking you can simply use the <a href="../reference/#ForestMensuration.criteria_selection-Tuple{Vector{&lt;:LinearModel}, Vararg{Symbol}}"><code>criteria_selection</code></a> function:</p><pre><code class="language-julia hljs"># Select the top model
top_model = criteria_selection(models)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">h = -96.1659 + 34.02 * log(dbh) + 2613.0 * dbh ^ -2</code></pre><h4 id="Plotting-the-Regression"><a class="docs-heading-anchor" href="#Plotting-the-Regression">Plotting the Regression</a><a id="Plotting-the-Regression-1"></a><a class="docs-heading-anchor-permalink" href="#Plotting-the-Regression" title="Permalink"></a></h4><p>You can visualize the regression model using the <a href="../reference/#ForestMensuration.plot_regression-Tuple{LinearModel}"><code>plot_regression</code></a> function.</p><pre><code class="language-julia hljs"># Plot the top model
plot_regression(top_model)</code></pre><img src="c10831fb.svg" alt="Example block output"/><p><br/></p><h4 id="Predict"><a class="docs-heading-anchor" href="#Predict">Predict</a><a id="Predict-1"></a><a class="docs-heading-anchor-permalink" href="#Predict" title="Permalink"></a></h4><p>The <a href="../reference/#ForestMensuration.predict-Tuple{LinearModel, Any}"><code>predict</code></a> function. allows you to generate predicted values from a regression model on the original scale of the dependent variable. This is particularly useful when the model involves transformations of the dependent variable (e.g., logarithmic transformations). The function automatically applies the appropriate inverse transformations and corrections, such as the Meyer correction factor for logarithmic models.</p><pre><code class="language-julia hljs"># Returns the predicted values from the model on the original scale
h_pred = predict(top_model)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">55-element Vector{Float64}:
 23.839396334946976
 22.449444919838996
 19.046655226169193
 23.380687056885154
 21.499772962767707
 19.046655226169193
  7.239680599465139
 21.307637639879843
 11.245167159289501
 23.839396334946976
  ⋮
 15.446233283156385
 18.543111236482176
 18.03556588328393
 20.0411325227971
 19.046655226169193
 19.046655226169193
 20.33608673315981
 18.543111236482176
 19.546038496517237</code></pre><p>The <a href="../reference/#ForestMensuration.predict!-Tuple{LinearModel, DataFrames.AbstractDataFrame}"><code>predict!</code></a> function extends this by adding the predicted values directly to your DataFrame. It creates new columns for the predicted and actual values, combining observed measurements with model predictions where data may be missing. This is especially useful in forest inventory datasets where certain tree attributes might not be measured for every tree, and predictions need to be filled in for these gaps.</p><pre><code class="language-julia hljs"># Automatically adds predicted and actual height columns to the provided DataFrame.
# This combines observed heights and predicted heights for trees with missing or unmeasured heights.
predict!(top_model, data)

# Firsts values of dataset
println(data[1:10, :])</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi"><span class="sgr1">10×5 DataFrame</span>
<span class="sgr1"> Row </span>│<span class="sgr1"> plot    h        dbh      h_predict  h_real  </span>
     │<span class="sgr90"> String  Float64  Float64  Float64?   Float64 </span>
─────┼──────────────────────────────────────────────
   1 │ A          20.9     31.5   23.8394      20.9
   2 │ A          19.6     30.0   22.4494      19.6
   3 │ A          13.2     26.5   19.0467      13.2
   4 │ A          23.3     31.0   23.3807      23.3
   5 │ A          19.2     29.0   21.4998      19.2
   6 │ A          16.2     26.5   19.0467      16.2
   7 │ A           8.3     14.5    7.23968      8.3
   8 │ A          19.7     28.8   21.3076      19.7
   9 │ A          11.0     19.0   11.2452      11.0
  10 │ A          24.0     31.5   23.8394      24.0</code></pre><h3 id="Adjusting-a-Qualitative-(Dummy)-Hypsometric-Relationship"><a class="docs-heading-anchor" href="#Adjusting-a-Qualitative-(Dummy)-Hypsometric-Relationship">Adjusting a Qualitative (Dummy) Hypsometric Relationship</a><a id="Adjusting-a-Qualitative-(Dummy)-Hypsometric-Relationship-1"></a><a class="docs-heading-anchor-permalink" href="#Adjusting-a-Qualitative-(Dummy)-Hypsometric-Relationship" title="Permalink"></a></h3><p>If your data includes categorical variables (e.g., different plots or species), you can include them in the regression analysis.</p><pre><code class="language-julia hljs"># Perform regression including &#39;plot&#39; as a categorical variable
qualitative_models = regression(:h, :dbh, data, :plot)

# Select the best model
top_qual_model = criteria_selection(qualitative_models, :adjr2, :syx, :aic)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">log(h) = 0.9926 + 0.06795 * dbh + 0.04215 * plot: B + 0.2089 * plot: C + 0.1953 * plot: D</code></pre><p><br/></p><h4 id="Plotting-the-Qualitative-Regression"><a class="docs-heading-anchor" href="#Plotting-the-Qualitative-Regression">Plotting the Qualitative Regression</a><a id="Plotting-the-Qualitative-Regression-1"></a><a class="docs-heading-anchor-permalink" href="#Plotting-the-Qualitative-Regression" title="Permalink"></a></h4><pre><code class="language-julia hljs"># Plot the top qualy model
plot_regression(top_qual_model)</code></pre><img src="53e64864.svg" alt="Example block output"/><h2 id="Site-Classification"><a class="docs-heading-anchor" href="#Site-Classification">Site Classification</a><a id="Site-Classification-1"></a><a class="docs-heading-anchor-permalink" href="#Site-Classification" title="Permalink"></a></h2><p>The site classification enable you to evaluate and classify forest sites based on regression models relating tree height and age. These functions are particularly useful for assessing site productivity and quality by comparing observed data with expected values derived from well-calibrated models.</p><h3 id="Calculating-Site-Classification"><a class="docs-heading-anchor" href="#Calculating-Site-Classification">Calculating Site Classification</a><a id="Calculating-Site-Classification-1"></a><a class="docs-heading-anchor-permalink" href="#Calculating-Site-Classification" title="Permalink"></a></h3><p>The <code>site_classification</code> function calculates the expected dominant height at a given index age for each observation based on a fitted regression model. This is a key step in classifying the productivity of a forest site.</p><pre><code class="language-julia hljs">using ForestMensuration, DataFrames

# Create a DataFrame containing tree plot data
data = DataFrame(
    plot = repeat(1:6, inner=5),
    age  = repeat([36, 48, 60, 72, 84], outer=6),
    h    = [13.6, 17.8, 21.5, 21.5, 21.8,
            14.3, 17.8, 21.0, 21.0, 21.4,
            14.0, 17.5, 21.2, 21.2, 21.4,
            13.4, 18.0, 20.8, 20.8, 23.2,
            13.2, 17.4, 20.3, 20.3, 22.0,
            13.2, 17.8, 21.3, 21.3, 22.5]
)

# Fit a regression model to relate height (h) to age
reg = regression(:h, :age, data) |&gt; criteria_selection

# Define the target index age (for example, 60 months)
index_age = 60

# Calculate the site classification values (site indices) for each observation
site_indices = site_classification(reg, data, index_age)

println(&quot;Site Classification Values:&quot;)
println(site_indices)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Site Classification Values:
[20.5, 20.4, 21.5, 20.7, 20.3, 21.1, 20.4, 21.0, 20.0, 19.6, 20.8, 20.1, 21.2, 20.3, 19.6, 20.4, 20.5, 20.8, 19.7, 22.8, 20.2, 20.0, 20.3, 19.1, 20.6, 20.2, 20.4, 21.3, 20.4, 21.5]</code></pre><h3 id="Calculating-Dominant-Height-Classification"><a class="docs-heading-anchor" href="#Calculating-Dominant-Height-Classification">Calculating Dominant Height Classification</a><a id="Calculating-Dominant-Height-Classification-1"></a><a class="docs-heading-anchor-permalink" href="#Calculating-Dominant-Height-Classification" title="Permalink"></a></h3><p>The <code>hdom_classification</code> function uses the site classification values to predict the dominant height for each observation at the specified index age. This reverses the site classification process, allowing you to forecast tree heights based on site productivity.</p><pre><code class="language-julia hljs"># Now, compute the dominant heights for each observation using the site indices
dominant_heights = hdom_classification(reg, data, index_age, site_indices)

println(&quot;Dominant Height Values:&quot;)
println(dominant_heights)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Dominant Height Values:
[13.6, 17.8, 21.5, 21.5, 21.8, 14.3, 17.8, 21.0, 21.0, 21.4, 13.9, 17.5, 21.2, 21.2, 21.4, 13.5, 18.0, 20.8, 20.8, 23.2, 13.2, 17.4, 20.3, 20.3, 22.0, 13.2, 17.8, 21.3, 21.3, 22.5]</code></pre><h3 id="Generating-a-Site-Table"><a class="docs-heading-anchor" href="#Generating-a-Site-Table">Generating a Site Table</a><a id="Generating-a-Site-Table-1"></a><a class="docs-heading-anchor-permalink" href="#Generating-a-Site-Table" title="Permalink"></a></h3><p>The <code>site_table</code> function creates a comprehensive site table and an associated site plot. This table shows the predicted dominant heights at various ages for different site index classes. You can specify a height increment (<code>hi</code>) to define the granularity of the site classes.</p><pre><code class="language-julia hljs"># Generate the site table
analysis = site_table(reg, index_age)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi"><span class="sgr1">5×6 DataFrame</span>
<span class="sgr1"> Row </span>│<span class="sgr1"> age      S_19.5   S_20.5   S_21.5   S_22.5   S_23.5  </span>
     │<span class="sgr90"> Float64  Float64  Float64  Float64  Float64  Float64 </span>
─────┼──────────────────────────────────────────────────────
   1 │    36.0     12.4     13.6     14.8     16.2     17.7
   2 │    48.0     16.8     18.0     19.2     20.4     21.8
   3 │    60.0     19.5     20.5     21.5     22.5     23.5
   4 │    72.0     20.6     21.4     22.1     22.9     23.6
   5 │    84.0     21.3     21.9     22.5     23.0     23.6</code></pre><h3 id="Plotting-the-Site-Index"><a class="docs-heading-anchor" href="#Plotting-the-Site-Index">Plotting the Site Index</a><a id="Plotting-the-Site-Index-1"></a><a class="docs-heading-anchor-permalink" href="#Plotting-the-Site-Index" title="Permalink"></a></h3><pre><code class="language-julia hljs"># Generate site plot
analysis.site_plot</code></pre><img src="910f5338.svg" alt="Example block output"/><h2 id="Frequency-and-Statistical-Functions"><a class="docs-heading-anchor" href="#Frequency-and-Statistical-Functions">Frequency and Statistical Functions</a><a id="Frequency-and-Statistical-Functions-1"></a><a class="docs-heading-anchor-permalink" href="#Frequency-and-Statistical-Functions" title="Permalink"></a></h2><h3 id="Creating-Frequency-Tables"><a class="docs-heading-anchor" href="#Creating-Frequency-Tables">Creating Frequency Tables</a><a id="Creating-Frequency-Tables-1"></a><a class="docs-heading-anchor-permalink" href="#Creating-Frequency-Tables" title="Permalink"></a></h3><p>The <a href="../reference/#ForestMensuration.frequency_table-Tuple{Symbol, Symbol, DataFrames.AbstractDataFrame}"><code>frequency_table</code></a> function creates frequency distributions for a vector of values, which is useful for analyzing the distribution of diameters or heights in your data.</p><pre><code class="language-julia hljs"># Frequency table for diameters using Sturges&#39; formula for class intervals
frequency_table(data.dbh)</code></pre><div><div style = "float: left;"><span>6×7 DataFrame</span></div><div style = "clear: both;"></div></div><div class = "data-frame" style = "overflow-x: scroll;"><table class = "data-frame" style = "margin-bottom: 6px;"><thead><tr class = "header"><th class = "rowNumber" style = "font-weight: bold; text-align: right;">Row</th><th style = "text-align: left;">LI</th><th style = "text-align: left;">Xi</th><th style = "text-align: left;">LS</th><th style = "text-align: left;">fi</th><th style = "text-align: left;">Fi</th><th style = "text-align: left;">fri</th><th style = "text-align: left;">Fri</th></tr><tr class = "subheader headerLastRow"><th class = "rowNumber" style = "font-weight: bold; text-align: right;"></th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Int64" style = "text-align: left;">Int64</th><th title = "Int64" style = "text-align: left;">Int64</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th></tr></thead><tbody><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">1</td><td style = "text-align: right;">10.0</td><td style = "text-align: right;">12.5</td><td style = "text-align: right;">15.0</td><td style = "text-align: right;">1</td><td style = "text-align: right;">1</td><td style = "text-align: right;">1.81818</td><td style = "text-align: right;">1.81818</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">2</td><td style = "text-align: right;">15.0</td><td style = "text-align: right;">17.5</td><td style = "text-align: right;">20.0</td><td style = "text-align: right;">3</td><td style = "text-align: right;">4</td><td style = "text-align: right;">5.45455</td><td style = "text-align: right;">7.27273</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">3</td><td style = "text-align: right;">20.0</td><td style = "text-align: right;">22.5</td><td style = "text-align: right;">25.0</td><td style = "text-align: right;">2</td><td style = "text-align: right;">6</td><td style = "text-align: right;">3.63636</td><td style = "text-align: right;">10.9091</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">4</td><td style = "text-align: right;">25.0</td><td style = "text-align: right;">27.5</td><td style = "text-align: right;">30.0</td><td style = "text-align: right;">27</td><td style = "text-align: right;">33</td><td style = "text-align: right;">49.0909</td><td style = "text-align: right;">60.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">5</td><td style = "text-align: right;">30.0</td><td style = "text-align: right;">32.5</td><td style = "text-align: right;">35.0</td><td style = "text-align: right;">19</td><td style = "text-align: right;">52</td><td style = "text-align: right;">34.5455</td><td style = "text-align: right;">94.5455</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">6</td><td style = "text-align: right;">35.0</td><td style = "text-align: right;">37.5</td><td style = "text-align: right;">40.0</td><td style = "text-align: right;">3</td><td style = "text-align: right;">55</td><td style = "text-align: right;">5.45455</td><td style = "text-align: right;">100.0</td></tr></tbody></table></div><p><br/></p><ul><li>LI: Lower class limit</li><li>Xi: Class center</li><li>LS: Upper class limit</li><li>fi: Frequency count</li><li>Fi: Cumulative frequency</li><li>fri: Relative frequency (%)</li><li>Fri: Cumulative relative frequency (%)</li></ul><p><br/></p><h4 id="Specifying-Class-Width"><a class="docs-heading-anchor" href="#Specifying-Class-Width">Specifying Class Width</a><a id="Specifying-Class-Width-1"></a><a class="docs-heading-anchor-permalink" href="#Specifying-Class-Width" title="Permalink"></a></h4><p>You can specify the class width (hi) to customize the intervals.</p><pre><code class="language-julia hljs"># Frequency table for heights with class width of 4 meters
frequency_table(data.h, 4)</code></pre><div><div style = "float: left;"><span>6×7 DataFrame</span></div><div style = "clear: both;"></div></div><div class = "data-frame" style = "overflow-x: scroll;"><table class = "data-frame" style = "margin-bottom: 6px;"><thead><tr class = "header"><th class = "rowNumber" style = "font-weight: bold; text-align: right;">Row</th><th style = "text-align: left;">LI</th><th style = "text-align: left;">Xi</th><th style = "text-align: left;">LS</th><th style = "text-align: left;">fi</th><th style = "text-align: left;">Fi</th><th style = "text-align: left;">fri</th><th style = "text-align: left;">Fri</th></tr><tr class = "subheader headerLastRow"><th class = "rowNumber" style = "font-weight: bold; text-align: right;"></th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Int64" style = "text-align: left;">Int64</th><th title = "Int64" style = "text-align: left;">Int64</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th></tr></thead><tbody><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">1</td><td style = "text-align: right;">8.0</td><td style = "text-align: right;">10.0</td><td style = "text-align: right;">12.0</td><td style = "text-align: right;">4</td><td style = "text-align: right;">4</td><td style = "text-align: right;">7.27273</td><td style = "text-align: right;">7.27273</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">2</td><td style = "text-align: right;">12.0</td><td style = "text-align: right;">14.0</td><td style = "text-align: right;">16.0</td><td style = "text-align: right;">5</td><td style = "text-align: right;">9</td><td style = "text-align: right;">9.09091</td><td style = "text-align: right;">16.3636</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">3</td><td style = "text-align: right;">16.0</td><td style = "text-align: right;">18.0</td><td style = "text-align: right;">20.0</td><td style = "text-align: right;">12</td><td style = "text-align: right;">21</td><td style = "text-align: right;">21.8182</td><td style = "text-align: right;">38.1818</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">4</td><td style = "text-align: right;">20.0</td><td style = "text-align: right;">22.0</td><td style = "text-align: right;">24.0</td><td style = "text-align: right;">14</td><td style = "text-align: right;">35</td><td style = "text-align: right;">25.4545</td><td style = "text-align: right;">63.6364</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">5</td><td style = "text-align: right;">24.0</td><td style = "text-align: right;">26.0</td><td style = "text-align: right;">28.0</td><td style = "text-align: right;">17</td><td style = "text-align: right;">52</td><td style = "text-align: right;">30.9091</td><td style = "text-align: right;">94.5455</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">6</td><td style = "text-align: right;">28.0</td><td style = "text-align: right;">30.0</td><td style = "text-align: right;">32.0</td><td style = "text-align: right;">3</td><td style = "text-align: right;">55</td><td style = "text-align: right;">5.45455</td><td style = "text-align: right;">100.0</td></tr></tbody></table></div><h2 id="Calculating-Dendrometric-Averages"><a class="docs-heading-anchor" href="#Calculating-Dendrometric-Averages">Calculating Dendrometric Averages</a><a id="Calculating-Dendrometric-Averages-1"></a><a class="docs-heading-anchor-permalink" href="#Calculating-Dendrometric-Averages" title="Permalink"></a></h2><p>he <a href="../reference/#ForestMensuration.dendrometric_averages-Tuple{LinearModel}"><code>dendrometric_averages</code></a> function computes various dendrometric averages of a forest stand, providing insights into the stand structure and growth patterns.</p><pre><code class="language-julia hljs"># Calculate dendrometric averages for the dataset
dendrometric_averages(data.dbh, area=0.05)</code></pre><div><div style = "float: left;"><span>1×7 DataFrame</span></div><div style = "clear: both;"></div></div><div class = "data-frame" style = "overflow-x: scroll;"><table class = "data-frame" style = "margin-bottom: 6px;"><thead><tr class = "header"><th class = "rowNumber" style = "font-weight: bold; text-align: right;">Row</th><th style = "text-align: left;">d₋</th><th style = "text-align: left;">d̅</th><th style = "text-align: left;">dg</th><th style = "text-align: left;">dw</th><th style = "text-align: left;">dz</th><th style = "text-align: left;">d₁₀₀</th><th style = "text-align: left;">d₊</th></tr><tr class = "subheader headerLastRow"><th class = "rowNumber" style = "font-weight: bold; text-align: right;"></th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th></tr></thead><tbody><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">1</td><td style = "text-align: right;">21.8401</td><td style = "text-align: right;">26.5164</td><td style = "text-align: right;">26.9182</td><td style = "text-align: right;">27.2</td><td style = "text-align: right;">26.5</td><td style = "text-align: right;">33.62</td><td style = "text-align: right;">31.1927</td></tr></tbody></table></div><p><br/></p><ul><li>d₋: Lower Hohenadl&#39;s diameter</li><li>d̄: Mean diameter</li><li>dg: Quadratic mean diameter</li><li>dw: Weise&#39;s diameter (60th percentile)</li><li>dz: Diameter of the tree with central basal area</li><li>d₁₀₀: Mean diameter of the 100 largest trees per hectare (returns NaN if fewer than 100 trees)</li><li>d₊: Upper Hohenadl&#39;s diameter</li></ul><p><br/></p><h4 id="Estimating-Heights-Using-a-Regression-Model"><a class="docs-heading-anchor" href="#Estimating-Heights-Using-a-Regression-Model">Estimating Heights Using a Regression Model</a><a id="Estimating-Heights-Using-a-Regression-Model-1"></a><a class="docs-heading-anchor-permalink" href="#Estimating-Heights-Using-a-Regression-Model" title="Permalink"></a></h4><p>If you have a regression model (e.g., top_model from earlier), you can estimate the corresponding heights for each calculated diameter.</p><pre><code class="language-julia hljs"># Estimate heights for dendrometric averages using the regression model
dendrometric_averages(top_model, area=0.05)</code></pre><div><div style = "float: left;"><span>1×14 DataFrame</span></div><div style = "clear: both;"></div></div><div class = "data-frame" style = "overflow-x: scroll;"><table class = "data-frame" style = "margin-bottom: 6px;"><thead><tr class = "header"><th class = "rowNumber" style = "font-weight: bold; text-align: right;">Row</th><th style = "text-align: left;">d₋</th><th style = "text-align: left;">d̅</th><th style = "text-align: left;">dg</th><th style = "text-align: left;">dw</th><th style = "text-align: left;">dz</th><th style = "text-align: left;">d₁₀₀</th><th style = "text-align: left;">d₊</th><th style = "text-align: left;">h₋</th><th style = "text-align: left;">h̅</th><th style = "text-align: left;">hg</th><th style = "text-align: left;">hw</th><th style = "text-align: left;">hz</th><th style = "text-align: left;">h₊</th><th style = "text-align: left;">h₁₀₀</th></tr><tr class = "subheader headerLastRow"><th class = "rowNumber" style = "font-weight: bold; text-align: right;"></th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th></tr></thead><tbody><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">1</td><td style = "text-align: right;">21.8401</td><td style = "text-align: right;">26.5164</td><td style = "text-align: right;">26.9182</td><td style = "text-align: right;">27.2</td><td style = "text-align: right;">26.5</td><td style = "text-align: right;">33.62</td><td style = "text-align: right;">31.1927</td><td style = "text-align: right;">14.2244</td><td style = "text-align: right;">19.0631</td><td style = "text-align: right;">19.4646</td><td style = "text-align: right;">19.7446</td><td style = "text-align: right;">19.0467</td><td style = "text-align: right;">25.7336</td><td style = "text-align: right;">23.558</td></tr></tbody></table></div></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../forestmensuration/">« ForestMensuration Package</a><a class="docs-footer-nextpage" href="../reference/">API Reference »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.8.0 on <span class="colophon-date" title="Sunday 9 February 2025 18:08">Sunday 9 February 2025</span>. Using Julia version 1.11.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
